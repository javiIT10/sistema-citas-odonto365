<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Title -->
    <title>Odonto365</title>

    <!-- Favicon -->

    <!--==================== CSS ====================-->

    <!-- lucide -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- CSS Perzonalizado -->
    <link rel="stylesheet" href="src/css/output.css" />
  </head>
  <body class="bg-fondo-alternativo min-h-screen">
    <!-- Header -->
    <header
      class="bg-transparent p-4 md:p-6 lg:p-8 flex justify-between items-center gap-10 md:gap-12 lg:gap-16 max-w-7xl mx-auto"
    >
      <a
        href="/"
        class="w-fit flex justify-center items-center focus:outline-none gap-2 btn suave border border-borde"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-chevron-left-icon lucide-chevron-left w-5 h-5"
        >
          <path d="m15 18-6-6 6-6" />
        </svg>
        Regresar
      </a>

      <div class="text-right">
        <h3 id="specialty-category">Ortodoncia</h3>
        <small>especialistas disponibles</small>
      </div>
    </header>

    <!-- Main Content -->
    <main class="p-4 md:p-6 lg:p-8 max-w-7xl mx-auto space-y-6">
      <!-- Specialists Navigation -->
      <div>
        <div class="flex gap-3 overflow-x-auto pb-2" id="specialists-nav">
          <!-- Specialist buttons will be generated by JavaScript -->
        </div>
      </div>

      <!-- Mobile Layout -->
      <div class="lg:hidden space-y-6">
        <!-- Specialist Details -->
        <div id="specialist-details-mobile">
          <!-- Content will be generated by JavaScript -->
        </div>

        <!-- Certifications Card -->
        <div
          class="bg-fondo-principal rounded-2xl p-6 shadow-sm border border-borde"
          id="certifications-card-mobile"
        >
          <div class="flex items-center gap-3 mb-6">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-star-icon lucide-star w-5 lg:w-7 h-5 lg:h-7 text-primario"
            >
              <path
                d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"
              />
            </svg>
            <h3>Certificaciones</h3>
          </div>
          <div class="space-y-4" id="certifications-list-mobile">
            <!-- Certifications will be generated by JavaScript -->
          </div>
        </div>

        <!-- Calendar/Time Picker Section (Mobile) -->
        <div>
          <h3 id="appointment-title-mobile">
            Agendar Cita con Dr. María González
          </h3>
          <small>Selecciona la fecha y hora de tu preferencia</small>

          <div class="flex border-b border-borde my-6">
            <button
              id="tab-date-mobile"
              class="flex-1 btn bg-transparent border-0 rounded-none shadow-none border-b-2 border-primario text-boton-secundario-texto cursor-pointer"
            >
              <div class="flex items-center justify-center gap-2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-calendar-icon lucide-calendar w-5 h-5"
                >
                  <path d="M8 2v4" />
                  <path d="M16 2v4" />
                  <rect width="18" height="18" x="3" y="4" rx="2" />
                  <path d="M3 10h18" />
                </svg>
                Fecha
              </div>
            </button>
            <button
              id="tab-time-mobile"
              class="flex-1 btn bg-transparent border-0 rounded-none shadow-none border-b-2 border-borde text-boton-suave-texto cursor-pointer"
            >
              <div class="flex items-center justify-center gap-2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-clock4-icon lucide-clock-4 w-5 h-5"
                >
                  <path d="M12 6v6l4 2" />
                  <circle cx="12" cy="12" r="10" />
                </svg>
                Hora
              </div>
            </button>
          </div>

          <div id="date-view-mobile">
            <h4>Selecciona una fecha</h4>
            <small class="mb-4 inline-block"
              >Los domingos no hay atención</small
            >

            <div class="flex items-center justify-between mb-4">
              <button
                id="prev-month-mobile"
                class="p-2 cursor-pointer btn suave bg-transparent border border-borde rounded-full w-fit"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-chevron-left-icon lucide-chevron-left w-5 h-5"
                >
                  <path d="m15 18-6-6 6-6" />
                </svg>
              </button>
              <h5 id="current-month-year-mobile"></h5>
              <button
                id="next-month-mobile"
                class="p-2 cursor-pointer btn suave bg-transparent border border-borde rounded-full w-fit"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-chevron-right-icon lucide-chevron-right w-5 h-5"
                >
                  <path d="m9 18 6-6-6-6" />
                </svg>
              </button>
            </div>

            <div class="calendar-grid mb-4">
              <h5 class="text-center py-2">Do</h5>
              <h5 class="text-center py-2">Lu</h5>
              <h5 class="text-center py-2">Ma</h5>
              <h5 class="text-center py-2">Mi</h5>
              <h5 class="text-center py-2">Ju</h5>
              <h5 class="text-center py-2">Vi</h5>
              <h5 class="text-center py-2">Sá</h5>
            </div>
            <div class="calendar-grid" id="calendar-grid-mobile">
              <!-- Calendar days will be generated by JavaScript -->
            </div>
          </div>

          <div id="time-view-mobile" style="display: none">
            <h4>Selecciona una hora</h4>
            <small
              class="mb-4 inline-block"
              id="selected-date-display-mobile"
            ></small>
            <div class="grid grid-cols-3 gap-3" id="time-slots-grid-mobile">
              <!-- Time slots will be generated by JavaScript -->
            </div>
          </div>
        </div>

        <!-- Appointment Summary (Mobile) -->
        <div
          class="bg-fondo-principal rounded-2xl p-6 shadow-sm border border-borde"
          id="appointment-summary-mobile"
          style="display: none"
        >
          <h3 class="mb-6">Resumen de la Cita</h3>

          <div class="space-y-6">
            <!-- Specialty -->
            <div>
              <h4 class="mb-2">Especialidad</h4>
              <p
                class="encabezado bg-estatus-neutral-bg text-estatus-neutral-texto rounded-lg"
                id="summary-specialty-mobile"
              >
                Ortodoncia
              </p>
            </div>

            <!-- Specialist -->
            <div>
              <h4 class="mb-2">Especialista</h4>
              <div class="flex items-center gap-2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-stethoscope-icon lucide-stethoscope w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-primario"
                >
                  <path d="M11 2v2" />
                  <path d="M5 2v2" />
                  <path
                    d="M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1"
                  />
                  <path d="M8 15a6 6 0 0 0 12 0v-3" />
                  <circle cx="20" cy="10" r="2" />
                </svg>
                <p id="summary-doctor-mobile">Dr. María González</p>
              </div>
            </div>

            <!-- Date and Time -->
            <div>
              <h4 class="mb-2">Fecha y Hora</h4>
              <div class="space-y-2">
                <div class="flex items-center gap-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-calendar-icon lucide-calendar w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-primario"
                  >
                    <path d="M8 2v4" />
                    <path d="M16 2v4" />
                    <rect width="18" height="18" x="3" y="4" rx="2" />
                    <path d="M3 10h18" />
                  </svg>
                  <p id="summary-date-mobile">martes, 22 de julio de 2025</p>
                </div>
                <div class="flex items-center gap-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-clock4-icon lucide-clock-4 w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-primario"
                  >
                    <path d="M12 6v6l4 2" />
                    <circle cx="12" cy="12" r="10" />
                  </svg>
                  <p id="summary-time-mobile">16:00</p>
                </div>
              </div>
            </div>

            <!-- Validation Button -->
            <a
              href="agenda.html"
              class="flex justify-center items-center focus:outline-none gap-2 btn primario cursor-pointer"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-circle-check-big-icon lucide-circle-check-big w-5 h-5"
              >
                <path d="M21.801 10A10 10 0 1 1 17 3.335" />
                <path d="m9 11 3 3L22 4" />
              </svg>
              Validar Disponibilidad
            </a>

            <small>
              Verificaremos la disponibilidad del especialista en la fecha
              seleccionada
            </small>
          </div>
        </div>
      </div>

      <!-- Desktop Layout -->
      <div class="hidden lg:block">
        <!-- Top Section: Specialist Info + Image + Certifications -->
        <div class="grid lg:grid-cols-3 gap-6 mb-6">
          <!-- Specialist Details + Image -->
          <div class="lg:col-span-2">
            <div class="p-6">
              <div
                class="grid md:grid-cols-2 gap-6"
                id="specialist-details-desktop"
              >
                <!-- Content will be generated by JavaScript -->
              </div>
            </div>
          </div>

          <!-- Certifications -->
          <div
            class="bg-fondo-principal rounded-2xl p-6 shadow-sm border border-borde"
            id="certifications-card-desktop"
          >
            <div class="flex items-center gap-3 mb-6">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-star-icon lucide-star w-5 lg:w-7 h-5 lg:h-7 text-primario"
              >
                <path
                  d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"
                />
              </svg>
              <h3>Certificaciones</h3>
            </div>
            <div class="space-y-4" id="certifications-list-desktop">
              <!-- Certifications will be generated by JavaScript -->
            </div>
          </div>
        </div>

        <!-- Bottom Section: Calendar + Summary -->
        <div class="grid lg:grid-cols-3 gap-6">
          <!-- Calendar/Time Picker Section (Desktop) -->
          <div class="lg:col-span-2 p-6">
            <h3 id="appointment-title-desktop">
              Agendar Cita con Dr. María González
            </h3>
            <small class="mb-6 inline-block"
              >Selecciona la fecha y hora de tu preferencia</small
            >

            <div class="flex border-b border-borde mb-6">
              <button
                id="tab-date-desktop"
                class="flex-1 btn primario bg-transparent border-0 rounded-none shadow-none border-b-2 border-primario cursor-pointer"
              >
                <div class="flex items-center justify-center gap-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-calendar-icon lucide-calendar w-5 h-5"
                  >
                    <path d="M8 2v4" />
                    <path d="M16 2v4" />
                    <rect width="18" height="18" x="3" y="4" rx="2" />
                    <path d="M3 10h18" />
                  </svg>
                  Fecha
                </div>
              </button>
              <button
                id="tab-time-desktop"
                class="flex-1 btn primario bg-transparent border-0 rounded-none shadow-none border-b-2 border-primario cursor-pointer"
              >
                <div class="flex items-center justify-center gap-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-clock4-icon lucide-clock-4 w-5 h-5"
                  >
                    <path d="M12 6v6l4 2" />
                    <circle cx="12" cy="12" r="10" />
                  </svg>
                  Hora
                </div>
              </button>
            </div>

            <div id="date-view-desktop">
              <h4>Selecciona una fecha</h4>
              <small class="mb-4 inline-block"
                >Los domingos no hay atención</small
              >

              <div class="flex items-center justify-between mb-4">
                <button
                  id="prev-month-desktop"
                  class="p-2 cursor-pointer btn suave bg-transparent border border-borde rounded-full w-fit"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-chevron-left-icon lucide-chevron-left w-5 h-5"
                  >
                    <path d="m15 18-6-6 6-6" />
                  </svg>
                </button>
                <h5 id="current-month-year-desktop"></h5>
                <button
                  id="next-month-desktop"
                  class="p-2 cursor-pointer btn suave bg-transparent border border-borde rounded-full w-fit"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-chevron-right-icon lucide-chevron-right w-5 h-5"
                  >
                    <path d="m9 18 6-6-6-6" />
                  </svg>
                </button>
              </div>

              <div class="calendar-grid mb-4">
                <h5 class="text-center py-2">Do</h5>
                <h5 class="text-center py-2">Lu</h5>
                <h5 class="text-center py-2">Ma</h5>
                <h5 class="text-center py-2">Mi</h5>
                <h5 class="text-center py-2">Ju</h5>
                <h5 class="text-center py-2">Vi</h5>
                <h5 class="text-center py-2">Sá</h5>
              </div>
              <div class="calendar-grid" id="calendar-grid-desktop">
                <!-- Calendar days will be generated by JavaScript -->
              </div>
            </div>

            <div id="time-view-desktop" style="display: none">
              <h4>Selecciona una hora</h4>
              <small
                class="mb-4 inline-block"
                id="selected-date-display-desktop"
              ></small>
              <div class="grid grid-cols-3 gap-3" id="time-slots-grid-desktop">
                <!-- Time slots will be generated by JavaScript -->
              </div>
            </div>
          </div>

          <!-- Appointment Summary (Desktop) -->
          <div
            class="bg-fondo-principal rounded-2xl p-6 shadow-sm border border-borde"
            id="appointment-summary-desktop"
            style="display: none"
          >
            <h3 class="mb-6">Resumen de la Cita</h3>

            <div class="space-y-6">
              <!-- Specialty -->
              <div>
                <h4 class="mb-2">Especialidad</h4>
                <p
                  class="encabezado bg-estatus-neutral-bg text-estatus-neutral-texto rounded-lg"
                  id="summary-specialty-desktop"
                >
                  Ortodoncia
                </p>
              </div>

              <!-- Specialist -->
              <div>
                <h4 class="mb-2">Especialista</h4>
                <div class="flex items-center gap-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-stethoscope-icon lucide-stethoscope w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-primario"
                  >
                    <path d="M11 2v2" />
                    <path d="M5 2v2" />
                    <path
                      d="M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1"
                    />
                    <path d="M8 15a6 6 0 0 0 12 0v-3" />
                    <circle cx="20" cy="10" r="2" />
                  </svg>
                  <p id="summary-doctor-desktop">Dr. María González</p>
                </div>
              </div>

              <!-- Date and Time -->
              <div>
                <h4 class="mb-2">Fecha y Hora</h4>
                <div class="space-y-2">
                  <div class="flex items-center gap-2">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="lucide lucide-calendar-icon lucide-calendar w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-primario"
                    >
                      <path d="M8 2v4" />
                      <path d="M16 2v4" />
                      <rect width="18" height="18" x="3" y="4" rx="2" />
                      <path d="M3 10h18" />
                    </svg>
                    <p id="summary-date-desktop">martes, 22 de julio de 2025</p>
                  </div>
                  <div class="flex items-center gap-2">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="lucide lucide-clock4-icon lucide-clock-4 w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-primario"
                    >
                      <path d="M12 6v6l4 2" />
                      <circle cx="12" cy="12" r="10" />
                    </svg>
                    <p id="summary-time-desktop">16:00</p>
                  </div>
                </div>
              </div>

              <!-- Validation Button -->
              <a
                href="agenda.html"
                class="flex justify-center items-center focus:outline-none gap-2 btn primario w-full cursor-pointer"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-circle-check-big-icon lucide-circle-check-big w-5 h-5"
                >
                  <path d="M21.801 10A10 10 0 1 1 17 3.335" />
                  <path d="m9 11 3 3L22 4" />
                </svg>
                Validar Disponibilidad
              </a>

              <small>
                Verificaremos la disponibilidad del especialista en la fecha
                seleccionada
              </small>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script>
      // Specialists data
      const specialists = [
        {
          id: 1,
          name: "Dr. María González",
          specialty: "Ortodoncia",
          image: "/placeholder.svg?height=400&width=400",
          description:
            "Especialista en ortodoncia con más de 15 años de experiencia en el diagnóstico y tratamiento de maloclusiones dentales. Graduada de la Universidad Nacional con especialización en ortodoncia invisible y brackets estéticos. Experta en tratamientos con Invisalign y sistemas de ortodoncia moderna.",
          certifications: [
            "Especialización en Ortodoncia - Universidad Nacional",
            "Certificación Invisalign Diamond Provider",
            "Diplomado en Ortodoncia Lingual",
            "Certificación en Ortodoncia Interceptiva",
            "Miembro de la Sociedad de Ortodoncia",
          ],
        },
        {
          id: 2,
          name: "Dr. Carlos Rodríguez",
          specialty: "Ortodoncia",
          image: "/placeholder.svg?height=400&width=400",
          description:
            "Ortodoncista certificado con 12 años de experiencia en corrección dental. Especializado en ortodoncia interceptiva y correctiva para niños y adultos. Graduado de la Universidad Central con múltiples certificaciones internacionales en técnicas de ortodoncia avanzada.",
          certifications: [
            "Especialización en Ortodoncia - Universidad Central",
            "Certificación en Brackets Autoligables",
            "Diplomado en Ortodoncia Pediátrica",
            "Certificación Damon System",
            "Miembro del Colegio de Ortodoncistas",
          ],
        },
        {
          id: 3,
          name: "Dra. Ana Martínez",
          specialty: "Ortodoncia",
          image: "/placeholder.svg?height=400&width=400",
          description:
            "Ortodoncista con enfoque en tratamientos estéticos y funcionales. 10 años de experiencia en ortodoncia lingual y sistemas de brackets transparentes. Especialista en casos complejos de maloclusión y rehabilitación oral integral.",
          certifications: [
            "Especialización en Ortodoncia - Universidad Javeriana",
            "Certificación en Ortodoncia Lingual",
            "Diplomado en Brackets Estéticos",
            "Certificación Clear Aligner",
            "Especialista en Casos Complejos",
          ],
        },
      ];

      let currentSpecialist = 0;
      let selectedDate = null;
      let selectedTime = null;
      let currentMonth = new Date().getMonth();
      let currentYear = new Date().getFullYear();
      let activeTab = "date"; // 'date' or 'time'

      const months = [
        "Enero",
        "Febrero",
        "Marzo",
        "Abril",
        "Mayo",
        "Junio",
        "Julio",
        "Agosto",
        "Septiembre",
        "Octubre",
        "Noviembre",
        "Diciembre",
      ];

      const timeSlots = [
        "08:00",
        "09:00",
        "10:00",
        "11:00",
        "12:00",
        "13:00",
        "14:00",
        "15:00",
        "16:00",
        "17:00",
        "18:00",
      ];

      // Helper to get elements by suffix
      function getElement(id, suffix) {
        return document.getElementById(`${id}${suffix}`);
      }

      // Generate specialist navigation buttons
      function generateSpecialistNav() {
        const navContainer = getElement("specialists-nav", "");
        navContainer.innerHTML = "";

        specialists.forEach((specialist, index) => {
          const button = document.createElement("button");
          button.className = `btn cursor-pointer whitespace-nowrap ${
            index === currentSpecialist
              ? "primario"
              : "suave border border-borde"
          }`;
          button.textContent = specialist.name;
          button.onclick = () => selectSpecialist(index);
          navContainer.appendChild(button);
        });
      }

      // Generate specialist details for mobile
      function generateSpecialistDetailsMobile() {
        const detailsContainer = getElement("specialist-details", "-mobile");
        const specialist = specialists[currentSpecialist];

        detailsContainer.innerHTML = `
                <div class="mb-6">
                    <div class="aspect-square bg-gradient-to-b from-fondo-alternativo to-fondo-terciario relative overflow-hidden rounded-3xl">
                        <img src="${specialist.image}" alt="${specialist.name}" class="w-full h-full object-cover">
                    </div>
                </div>
                <div class="px-4">
                    <h3>${specialist.name}</h3>
                    <small class="mb-4">${specialist.specialty}</small>
                    <p>${specialist.description}</p>
                </div>
            `;
        getElement(
          "appointment-title",
          "-mobile"
        ).textContent = `Agendar Cita con ${specialist.name}`;
      }

      // Generate specialist details for desktop
      function generateSpecialistDetailsDesktop() {
        const detailsContainer = getElement("specialist-details", "-desktop");
        const specialist = specialists[currentSpecialist];

        detailsContainer.innerHTML = `
                <div>
                    <h3>${specialist.name}</h3>
                    <small class="mb-4 inline-block">${specialist.specialty}</small>
                    <p>${specialist.description}</p>
                </div>
                <div>
                    <div class="aspect-square bg-gradient-to-b from-fondo-alternativo to-fondo-terciario relative overflow-hidden rounded-3xl">
                        <img src="${specialist.image}" alt="${specialist.name}" class="w-full h-full object-cover">
                    </div>
                </div>
            `;
        getElement(
          "appointment-title",
          "-desktop"
        ).textContent = `Agendar Cita con ${specialist.name}`;
      }

      // Generate certifications
      function generateCertifications(suffix = "") {
        const certificationsContainer = getElement(
          "certifications-list",
          suffix
        );
        const specialist = specialists[currentSpecialist];

        certificationsContainer.innerHTML = "";

        specialist.certifications.forEach((certification) => {
          const certDiv = document.createElement("div");
          certDiv.className = "flex items-start gap-3";
          certDiv.innerHTML = `
                    <div class="w-2 h-2 bg-primario rounded-full mt-2 flex-shrink-0"></div>
                    <p>${certification}</p>
                `;
          certificationsContainer.appendChild(certDiv);
        });
      }

      // Render calendar
      function renderCalendar(suffix = "") {
        const calendarGrid = getElement("calendar-grid", suffix);
        const currentMonthYearSpan = getElement("current-month-year", suffix);
        calendarGrid.innerHTML = "";

        const firstDayOfMonth = new Date(currentYear, currentMonth, 1);
        const daysInMonth = new Date(
          currentYear,
          currentMonth + 1,
          0
        ).getDate();
        const firstDayOfWeek = firstDayOfMonth.getDay(); // 0 for Sunday, 1 for Monday...
        const today = new Date();

        currentMonthYearSpan.textContent = `${months[currentMonth]} ${currentYear}`;

        // Add empty cells for days before the first day of the month
        for (let i = 0; i < firstDayOfWeek; i++) {
          const emptyCell = document.createElement("div");
          emptyCell.className = "calendar-day disabled"; // Visually disabled
          calendarGrid.appendChild(emptyCell);
        }

        // Add days of the month
        for (let day = 1; day <= daysInMonth; day++) {
          const date = new Date(currentYear, currentMonth, day);
          const isToday =
            date.getDate() === today.getDate() &&
            date.getMonth() === today.getMonth() &&
            date.getFullYear() === today.getFullYear();
          const isSelected =
            selectedDate &&
            date.getDate() === selectedDate.getDate() &&
            date.getMonth() === selectedDate.getMonth() &&
            date.getFullYear() === selectedDate.getFullYear();
          const isSunday = date.getDay() === 0; // Sunday

          const dayDiv = document.createElement("div");
          dayDiv.textContent = day;
          dayDiv.className = `calendar-day ${
            isSunday ? "disabled" : "selectable"
          } ${
            isSelected ? "selected" : ""
          } text-sm md:text-base lg:text-lg font-body`;

          if (!isSunday) {
            dayDiv.onclick = () => selectDate(date, suffix);
          }
          calendarGrid.appendChild(dayDiv);
        }
      }

      // Render time slots
      function renderTimeSlots(suffix = "") {
        const timeSlotsGrid = getElement("time-slots-grid", suffix);
        const selectedDateDisplay = getElement("selected-date-display", suffix);
        timeSlotsGrid.innerHTML = "";

        if (selectedDate) {
          const dateOptions = {
            weekday: "long",
            day: "numeric",
            month: "long",
          };
          selectedDateDisplay.textContent = selectedDate.toLocaleDateString(
            "es-ES",
            dateOptions
          );

          timeSlots.forEach((time) => {
            const timeButton = document.createElement("button");
            timeButton.className = `time-slot-button ${
              selectedTime === time ? "selected" : ""
            } text-sm md:text-base lg:text-lg font-body`;
            timeButton.textContent = time;
            timeButton.onclick = () => selectTime(time, suffix);
            timeSlotsGrid.appendChild(timeButton);
          });
        } else {
          selectedDateDisplay.textContent =
            "Por favor, selecciona una fecha primero.";
        }
      }

      // Select date
      function selectDate(date, suffix) {
        selectedDate = date;
        selectedTime = null; // Reset time when date changes
        renderCalendar("-mobile");
        renderCalendar("-desktop");
        renderTimeSlots("-mobile");
        renderTimeSlots("-desktop");
        switchTab("time", suffix); // Switch to time tab after date selection
        checkAppointmentComplete();
      }

      // Select time
      function selectTime(time, suffix) {
        selectedTime = time;
        renderTimeSlots("-mobile");
        renderTimeSlots("-desktop");
        checkAppointmentComplete();
      }

      //border-primario text-boton-secundario-texto
      //border-borde text-boton-suave-texto
      // Switch tabs
      function switchTab(tab, suffix) {
        activeTab = tab;
        const dateTab = getElement("tab-date", suffix);
        const timeTab = getElement("tab-time", suffix);
        const dateView = getElement("date-view", suffix);
        const timeView = getElement("time-view", suffix);

        if (tab === "date") {
          dateTab.classList.add(
            "border-primario",
            "text-boton-secundario-texto"
          );
          dateTab.classList.remove("border-borde", "text-boton-suave-texto");
          timeTab.classList.remove(
            "border-primario",
            "text-boton-secundario-texto"
          );
          timeTab.classList.add("border-borde", "text-boton-suave-texto");
          dateView.style.display = "block";
          timeView.style.display = "none";
        } else {
          timeTab.classList.add(
            "border-primario",
            "text-boton-secundario-texto"
          );
          timeTab.classList.remove("border-borde", "text-boton-suave-texto");
          dateTab.classList.remove(
            "border-primario",
            "text-boton-secundario-texto"
          );
          dateTab.classList.add("border-borde", "text-boton-suave-texto");
          dateView.style.display = "none";
          timeView.style.display = "block";
        }
      }

      // Check if appointment is complete
      function checkAppointmentComplete() {
        if (selectedDate && selectedTime) {
          getElement("appointment-summary", "-mobile").style.display = "block";
          getElement("appointment-summary", "-desktop").style.display = "block";
          updateSummary();
        } else {
          getElement("appointment-summary", "-mobile").style.display = "none";
          getElement("appointment-summary", "-desktop").style.display = "none";
        }
      }

      // Update summary
      function updateSummary() {
        const specialist = specialists[currentSpecialist];

        // Update specialty category in header
        getElement("specialty-category", "").textContent = specialist.specialty;

        // Update mobile summary
        getElement("summary-specialty", "-mobile").textContent =
          specialist.specialty;
        getElement("summary-doctor", "-mobile").textContent = specialist.name;

        // Update desktop summary
        getElement("summary-specialty", "-desktop").textContent =
          specialist.specialty;
        getElement("summary-doctor", "-desktop").textContent = specialist.name;

        if (selectedDate && selectedTime) {
          const dateOptions = {
            weekday: "long",
            day: "numeric",
            month: "long",
            year: "numeric",
          };
          const formattedDate = selectedDate.toLocaleDateString(
            "es-ES",
            dateOptions
          );
          getElement("summary-date", "-mobile").textContent = formattedDate;
          getElement("summary-time", "-mobile").textContent = selectedTime;
          getElement("summary-date", "-desktop").textContent = formattedDate;
          getElement("summary-time", "-desktop").textContent = selectedTime;
        }
      }

      // Select specialist
      function selectSpecialist(index) {
        currentSpecialist = index;
        selectedDate = null; // Reset selections when specialist changes
        selectedTime = null;
        generateSpecialistNav();
        generateSpecialistDetailsMobile();
        generateSpecialistDetailsDesktop();
        generateCertifications("-mobile");
        generateCertifications("-desktop");
        renderCalendar("-mobile");
        renderCalendar("-desktop");
        renderTimeSlots("-mobile");
        renderTimeSlots("-desktop");
        switchTab("date", "-mobile"); // Always start on date tab
        switchTab("date", "-desktop");
        checkAppointmentComplete();
      }

      // Initialize page
      function init() {
        generateSpecialistNav();
        generateSpecialistDetailsMobile();
        generateSpecialistDetailsDesktop();
        generateCertifications("-mobile");
        generateCertifications("-desktop");
        renderCalendar("-mobile");
        renderCalendar("-desktop");
        renderTimeSlots("-mobile");
        renderTimeSlots("-desktop");
        switchTab("date", "-mobile");
        switchTab("date", "-desktop");
        checkAppointmentComplete(); // Hide summary initially

        // Add event listeners for month navigation
        getElement("prev-month", "-mobile").addEventListener("click", () => {
          if (currentMonth === 0) {
            currentMonth = 11;
            currentYear--;
          } else {
            currentMonth--;
          }
          renderCalendar("-mobile");
          renderCalendar("-desktop");
        });
        getElement("next-month", "-mobile").addEventListener("click", () => {
          if (currentMonth === 11) {
            currentMonth = 0;
            currentYear++;
          } else {
            currentMonth++;
          }
          renderCalendar("-mobile");
          renderCalendar("-desktop");
        });
        getElement("prev-month", "-desktop").addEventListener("click", () => {
          if (currentMonth === 0) {
            currentMonth = 11;
            currentYear--;
          } else {
            currentMonth--;
          }
          renderCalendar("-mobile");
          renderCalendar("-desktop");
        });
        getElement("next-month", "-desktop").addEventListener("click", () => {
          if (currentMonth === 11) {
            currentMonth = 0;
            currentYear++;
          } else {
            currentMonth++;
          }
          renderCalendar("-mobile");
          renderCalendar("-desktop");
        });

        // Add event listeners for tabs
        getElement("tab-date", "-mobile").addEventListener("click", () =>
          switchTab("date", "-mobile")
        );
        getElement("tab-time", "-mobile").addEventListener("click", () =>
          switchTab("time", "-mobile")
        );
        getElement("tab-date", "-desktop").addEventListener("click", () =>
          switchTab("date", "-desktop")
        );
        getElement("tab-time", "-desktop").addEventListener("click", () =>
          switchTab("time", "-desktop")
        );
      }

      // Run initialization when page loads
      document.addEventListener("DOMContentLoaded", init);
    </script>
  </body>
</html>
